/* ============================================
   OPTIMISATIONS DE SCROLL POUR L'INTERFACE ADMIN
   ============================================ */

/* Optimisations globales pour le scroll */
html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

body {
  /* Améliorer la performance du scroll */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  /* Réduire les reflows lors du scroll */
  contain: layout style paint;
}

/* Optimisations pour les conteneurs scrollables */
.app-container,
[class*="scroll"],
[class*="overflow"] {
  /* Utiliser la composition GPU pour le scroll */
  transform: translateZ(0);
  will-change: scroll-position;
  /* Améliorer la performance du scroll */
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
}

/* Optimisations pour les DataTables Shopify Polaris */
.Polaris-DataTable,
.Polaris-DataTable__ScrollContainer,
.Polaris-DataTable__TableWrapper,
.optimized-data-table-wrapper,
.history-table-wrapper {
  /* Accélération GPU pour le scroll */
  transform: translateZ(0);
  will-change: scroll-position;
  /* Smooth scrolling */
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
  /* Réduire les reflows */
  contain: layout style paint;
  /* Optimiser le rendu */
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Optimisations pour les tableaux */
table,
.Polaris-DataTable__Table {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les lignes de tableau */
.Polaris-DataTable__TableRow,
tr {
  /* Isolation de la composition pour chaque ligne */
  transform: translateZ(0);
  /* Réduire les reflows lors du scroll */
  contain: layout style;
}

/* Optimisations pour les cellules de tableau */
.Polaris-DataTable__Cell,
td,
th {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les listes scrollables */
.history-table-wrapper,
.products-list,
.activity-list,
.dashboard-section {
  /* Accélération GPU */
  transform: translateZ(0);
  will-change: scroll-position;
  /* Smooth scrolling */
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
}

/* Optimisations pour les cartes et sections */
.stat-card,
.dashboard-section,
.setting-card {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les graphiques et visualisations */
.graph-container-large,
.graph-bars,
.graph-bar-item {
  /* Accélération GPU pour les animations */
  transform: translateZ(0);
  will-change: transform;
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les barres de graphique */
.graph-bar {
  /* Isolation de la composition */
  transform: translateZ(0);
  will-change: height, transform;
  /* Transition fluide */
  transition: height 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Optimisations pour les modals et overlays */
.Polaris-Modal,
.Polaris-Modal__Dialog,
[class*="modal"],
[class*="overlay"] {
  /* Accélération GPU */
  transform: translateZ(0);
  will-change: transform, opacity;
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les boutons et éléments interactifs */
button,
.Polaris-Button,
[role="button"] {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows lors des interactions */
  contain: layout style;
}

/* Optimisations pour les badges et labels */
.Polaris-Badge,
.Polaris-Label,
[class*="badge"],
[class*="label"] {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les images lazy loading */
img[loading="lazy"] {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows lors du chargement */
  contain: layout style paint;
}

/* Optimisations pour les conteneurs avec overflow */
[style*="overflow"],
[class*="overflow"] {
  /* Smooth scrolling */
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
  /* Accélération GPU */
  transform: translateZ(0);
  will-change: scroll-position;
}

/* Optimisations spécifiques pour les pages admin */
.app-container {
  /* Isolation de la composition pour tout le conteneur */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
  /* Smooth scrolling */
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
}

/* Optimisations pour les sections de dashboard */
.dashboard-section {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
  /* Margin pour éviter les reflows */
  margin-bottom: var(--spacing-lg);
}

/* Optimisations pour les grilles de statistiques */
.stats-grid {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
  /* Display grid optimisé */
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--spacing-md);
}

/* Optimisations pour les cartes de statistiques */
.stat-card {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
  /* Transition fluide */
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Optimisations pour les listes de produits */
.products-list,
.activity-list {
  /* Smooth scrolling */
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
  /* Accélération GPU */
  transform: translateZ(0);
  will-change: scroll-position;
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les éléments de liste */
.product-item,
.activity-item {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
  /* Transition fluide */
  transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Optimisations pour les formulaires */
form,
.Polaris-FormLayout {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les inputs */
input,
textarea,
select,
.Polaris-TextField__Input {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows lors de la saisie */
  contain: layout style;
}

/* Optimisations pour les pages avec beaucoup de contenu */
.Page,
.Polaris-Page {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les layouts */
.Layout,
.Polaris-Layout {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les sections de layout */
.Layout__Section,
.Polaris-Layout__Section {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les cartes */
.Card,
.Polaris-Card {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les banners */
.Banner,
.Polaris-Banner {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les textes */
.Text,
.Polaris-Text {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les block stacks */
.BlockStack,
.Polaris-BlockStack {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les inline stacks */
.InlineStack,
.Polaris-InlineStack {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les thumbnails */
.Thumbnail,
.Polaris-Thumbnail {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les checkboxes */
.Checkbox,
.Polaris-Checkbox {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les diviseurs */
.Divider,
.Polaris-Divider {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les empty states */
.EmptyState,
.Polaris-EmptyState {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les pricing grids */
.pricing-grid,
.plan-card {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les crédits */
.credits-balance,
.credits-amount {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les settings grids */
.settings-grid {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
  /* Display grid optimisé */
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-md);
}

/* Optimisations pour les conversion sections */
.conversion-hero,
.conversion-reassurance {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les plan cards */
.plan-card {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
  /* Transition fluide */
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Optimisations pour les plan buttons */
.plan-button {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
  /* Transition fluide */
  transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1),
              background-color 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Optimisations pour les plan badges */
.plan-badge {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les plan features */
.plan-feature {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les plan value indicators */
.plan-value-indicator {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les plan CTAs */
.plan-cta {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les graph bars */
.graph-bar-item {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les graph bar labels */
.graph-bar-label {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les graph bar values */
.graph-bar-value {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les placeholders */
.dashboard-placeholder {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les headers */
.app-header,
.app-title,
.app-subtitle {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les stat icons */
.stat-icon-wrapper {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les stat values */
.stat-value {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les stat labels */
.stat-label {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les product names */
.product-name {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les activity info */
.activity-info {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les activity titles */
.activity-title {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les activity dates */
.activity-date {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les credits labels */
.credits-label {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les vton inputs */
.vton-input {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les setting cards */
.setting-card {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Optimisations pour les setting card labels */
.setting-card label {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les plan names */
.plan-name {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les plan prices */
.plan-price {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les plan value texts */
.plan-value-text {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les plan value labels */
.plan-value-label {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style;
}

/* Optimisations pour les plan features lists */
.plan-features {
  /* Isolation de la composition */
  transform: translateZ(0);
  /* Réduire les reflows */
  contain: layout style paint;
}

/* Media queries pour les optimisations responsives */
@media (prefers-reduced-motion: reduce) {
  /* Désactiver les animations pour les utilisateurs qui préfèrent moins de mouvement */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Optimisations pour les appareils à faible puissance */
@media (prefers-reduced-motion: no-preference) {
  /* Activer les optimisations GPU uniquement si l'utilisateur n'a pas de préférence pour réduire le mouvement */
  .app-container,
  [class*="scroll"],
  [class*="overflow"] {
    will-change: scroll-position;
  }
}

/* Optimisations pour les écrans haute résolution */
@media (-webkit-min-device-pixel-ratio: 2),
       (min-resolution: 192dpi) {
  /* Optimisations supplémentaires pour les écrans Retina */
  .app-container,
  .stat-card,
  .dashboard-section {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* Optimisations pour les navigateurs WebKit */
@supports (-webkit-overflow-scrolling: touch) {
  .app-container,
  [class*="scroll"],
  [class*="overflow"] {
    -webkit-overflow-scrolling: touch;
  }
}

/* Optimisations pour les navigateurs modernes */
@supports (contain: layout) {
  .app-container,
  .dashboard-section,
  .stat-card {
    contain: layout style paint;
  }
}

/* Optimisations pour les navigateurs avec support de will-change */
@supports (will-change: scroll-position) {
  .app-container,
  [class*="scroll"],
  [class*="overflow"] {
    will-change: scroll-position;
  }
}
